@using ASF.Entities
@model IEnumerable<ASF.Entities.Order>


<div ng-controller="ControladorTarjetaCredito">

    @foreach (var item in Model)
    {
        <table class="table">

            <tr>
                <th>
                    OrderDate
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TotalPrice)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.OrderNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ItemCount)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.State)
                </th>
                <th>
                    
                </th>

            </tr>


            <tr style="color: @(item.State==Status.Approved ? "green":"red");">
                <td>
                    @Html.DisplayFor(modelItem => item.OrderDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TotalPrice)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ItemCount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.State)
                </td>
                <td>
                    @if (item.State != Status.Approved)
                    {


                        <div class="row">

                            <div class="col-md-4">

                                <input ng-click="PagarConTarjeta($event,@item.Id)" class="btn btn-default" value="Confirmar Compra" />

                            </div>
                            
                            <div class="col-md-3">

                                <input ng-click="EliminarOrden($event,@item.Id)" class="btn btn-default" value="Eliminar Orden" />

                            </div>


                        </div>

                    }
                </td>


            </tr>

            @Html.Partial("_OrderDetails", item.OrderDetail)

           

        </table>
    }





</div>

